{"version":3,"sources":["../../src/targets/tools.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;;;;AAEM,SAAA,iBAAA,GAAA;AACJ;AACA,SAAO,qCAAiB,aAAjB,EAAgC,aAAhC,EAA+C,0FAA/C,CAAP;AACD;;AAEM,MAAM,UAAU,KAAI,eAAJ,EAAS,MAAK;AACnC,MAAI,QAAQ,QAAR,KAAqB,OAArB,IAAgC,QAAQ,GAAR,CAAY,cAAZ,KAA+B,MAAnE,EAA2E;AACzE,WAAO,QAAQ,OAAR,CAAgB,KAAhB,CAAP;AACD;;AAED,SAAO,2BAAO,KAAP,EAAc,KAAd,EAAqB,IAArB,EACJ,IADI,CACC,MAAM,KAAK,IAAL,CAAU,EAAV,EAAc,KAAd,CADP,CAAP;AAED,CAPsB,CAAhB,C,CASP;;;;AACM,SAAA,kBAAA,GAAA;AACJ;AACA,SAAO,QAAQ,KAAf;AACD;;AAEK,SAAA,OAAA,GAAA;AACJ,SAAO,QAAQ,MAAR,CAAP;AACD;;AAED,SAAA,OAAA,CAAiB,IAAjB,EAA6B;AAC3B,SAAO,2BAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EACJ,IADI,CACC,MAAM,KAAK,IAAL,CAAU,EAAV,EAAc,GAAG,IAAI,GAAG,QAAQ,QAAR,KAAqB,OAArB,GAA+B,MAA/B,GAAwC,EAAE,EAAlE,CADP,CAAP;AAED,C","sourcesContent":["import { getBin, getBinFromGithub } from \"builder-util/out/binDownload\"\nimport { Lazy } from \"lazy-val\"\nimport * as path from \"path\"\n\nexport function getLinuxToolsPath() {\n  //noinspection SpellCheckingInspection\n  return getBinFromGithub(\"linux-tools\", \"mac-10.12.3\", \"SQ8fqIRVXuQVWnVgaMTDWyf2TLAJjJYw3tRSqQJECmgF6qdM7Kogfa6KD49RbGzzMYIFca9Uw3MdsxzOPRWcYw==\")\n}\n\nexport const fpmPath = new Lazy(() => {\n  if (process.platform === \"win32\" || process.env.USE_SYSTEM_FPM === \"true\") {\n    return Promise.resolve(\"fpm\")\n  }\n\n  return getBin(\"fpm\", \"fpm\", null)\n    .then(it => path.join(it, \"fpm\"))\n})\n\n// noinspection JSUnusedGlobalSymbols\nexport function prefetchBuildTools(): Promise<any> {\n  // yes, we starting to use native Promise\n  return fpmPath.value\n}\n\nexport function getZstd() {\n  return getTool(\"zstd\")\n}\n\nfunction getTool(name: string): Promise<string> {\n  return getBin(name, name, null)\n    .then(it => path.join(it, `${name}${process.platform === \"win32\" ? \".exe\" : \"\"}`))\n}"],"sourceRoot":""}
